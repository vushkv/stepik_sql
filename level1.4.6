Вложенный запрос после SELECT
Задание
Посчитать сколько и каких экземпляров книг нужно заказать поставщикам, чтобы на складе стало одинаковое количество экземпляров каждой книги, равное значению самого большего количества экземпляров одной книги на складе. Вывести название книги, ее автора, текущее количество экземпляров на складе и количество заказываемых экземпляров книг. Последнему столбцу присвоить имя Заказ. В результат не включать книги, которые заказывать не нужно.

Решение:
SELECT title, author, amount, 
    (SELECT max(amount) FROM book) - amount AS 'Заказ' 
FROM book
WHERE amount < ANY (
        SELECT MAX(amount) 
        FROM book 
        GROUP BY author 
      );
