Запросы на обновление нескольких столбцов
Задание
В таблице book необходимо скорректировать значение для покупателя в столбце buy таким образом, чтобы оно не превышало количество экземпляров книг, указанных в столбце amount. А цену тех книг, которые покупатель не заказывал, снизить на 10%.

Решение:
UPDATE book 
SET price = IF(title = "Мастер и Маргарита", price * 0.9, price),
    price = IF(title = "Братья Карамазовы", price * 0.9, price),
    buy = IF(buy>amount, buy-(buy-amount), buy);
SELECT * FROM book;
